---
date        : 2016-10-32
updated_at  : 2016-10-21
title       : Granular permissions for IAM user for CloudBerry Backup
description : How to configure IAM user with most granular permissions to backup and restore to and from AWS S3
author      : Eugene
kbid        : 1034
weight      : 1034
tags        : [IAM, MBS]
---

> **This article will deleted due to significant change in CloudBerry Lab MBS integration with AWS (Assume Role). Check [release notes](https://mbs.cloudberrylab.com/Admin/Help.aspx?c=Contents/mbschangelog.html)!**

## Problem

Configuring your CloudBerry Backup product for the backup and restore operations you may face with insufficient permissions for IAM user case what cause "You are not authorize to perform this operation" issue, no data / files shown in "Backup storage" tab of your product.

## Resolution

The easiest (and this is probably over 50% our customers doing) is to enable "AdministratorAccess" or "AmazonS3FullAccess", but it is better to have granular permissions with only selected policies required for Cloudberry Backup software. Follow the below guide to have your user setup accordingly.

~~~ json
{
    "Version": "2012-10-17",
    "Statement": [
        {
            "Effect": "Allow",
            "Action": [
                "s3:ListBucket",
                "s3:GetBucketAcl",
                "s3:GetBucketVersioning",
                "s3:GetBucketRequestPayment",
                "s3:GetBucketLocation",
                "s3:GetBucketPolicy"
            ],
            "Resource": "arn:aws:s3:::your_bucket_name_goes_here",
            "Condition": {}
        },
        {
            "Effect": "Allow",
            "Action": [
                "s3:GetObject",
                "s3:DeleteObject",
                "s3:DeleteObjectVersion",
                "s3:GetObjectAcl",
                "s3:GetObjectVersion",
                "s3:GetObjectVersionAcl",
                "s3:PutObject",
                "s3:PutObjectAcl",
                "s3:PutObjectVersionAcl"
            ],
            "Resource": "arn:aws:s3:::your_bucket_name_goes_here/*",
            "Condition": {}
        },
        {
            "Effect": "Allow",
            "Action": "s3:ListAllMyBuckets",
            "Resource": "*",
            "Condition": {}
        }
    ]
}
~~~

> Please change the <code class="language-json">your_bucket_name_goes_here</code> to your bucket name.
